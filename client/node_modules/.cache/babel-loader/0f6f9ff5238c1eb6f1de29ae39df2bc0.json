{"ast":null,"code":"import app from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/firebase-firestore';\nvar firebaseConfig = {\n  apiKey: \"AIzaSyA7XPj2zFd26B9bh_zDQ2aDf38uACH3dYI\",\n  authDomain: \"reachzone-a5637.firebaseapp.com\",\n  databaseURL: \"https://reachzone-a5637.firebaseio.com\",\n  projectId: \"reachzone-a5637\",\n  storageBucket: \"reachzone-a5637.appspot.com\",\n  messagingSenderId: \"282619171712\"\n};\n\nclass Firebase {\n  constructor() {\n    app.initializeApp(firebaseConfig); //initialize configurations\n\n    this.auth = app.auth(); //this.db = app.firestore();\n  }\n\n  async login(email, password) {\n    await this.auth.signInWithEmailAndPassword(email, password).then(user => localStorage.setItem('name', user.user.displayName)).catch(err => console.log(err));\n  }\n\n  async logout() {\n    await this.auth.signOut().then(() => localStorage.removeItem('name')) //on success remove name from local storage\n    .catch(err => console.log(err));\n  }\n\n  async register(name, email, password) {\n    await this.auth.createUserWithEmailAndPassword(email, password).then(async user => {\n      try {\n        await this.auth.currentUser.updateProfile({\n          displayName: name\n        }); //changes the display name\n      } catch (err) {\n        console.log(err);\n      }\n\n      localStorage.setItem('name', user.user.displayName);\n    });\n  }\n\n  createTodo(title) {\n    this.auth.onAuthStateChanged(function (user) {\n      if (user) {\n        app.firestore().collection(\"Todolist\").add({\n          uid: user.uid,\n          title: title\n        }).then(() => console.log(\"Document successfully added\")).catch(err => console.log(err));\n      } else {\n        console.log('not logged in');\n      }\n    });\n  }\n\n  getTodo() {\n    app.firestore().collection(\"Todolist\").get().then(data => {\n      console.log(data.docs.map(doc => ({ ...doc.data(),\n        id: doc.id\n      })));\n      return data.docs.map(doc => ({ ...doc.data(),\n        id: doc.id\n      }));\n    }).catch(err => console.log(err));\n  }\n\n}\n\nexport default new Firebase();","map":{"version":3,"sources":["/home/south/PycharmProjects/untitled/project/forkedrepo/frontend/src/components/firebase.js"],"names":["app","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","Firebase","constructor","initializeApp","auth","login","email","password","signInWithEmailAndPassword","then","user","localStorage","setItem","displayName","catch","err","console","log","logout","signOut","removeItem","register","name","createUserWithEmailAndPassword","currentUser","updateProfile","createTodo","title","onAuthStateChanged","firestore","collection","add","uid","getTodo","get","data","docs","map","doc","id"],"mappings":"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","sourcesContent":["import app from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/firebase-firestore';\n\nvar firebaseConfig = {\n  apiKey: \"AIzaSyA7XPj2zFd26B9bh_zDQ2aDf38uACH3dYI\",\n  authDomain: \"reachzone-a5637.firebaseapp.com\",\n  databaseURL: \"https://reachzone-a5637.firebaseio.com\",\n  projectId: \"reachzone-a5637\",\n  storageBucket: \"reachzone-a5637.appspot.com\",\n  messagingSenderId: \"282619171712\",\n};\n\nclass Firebase {\n\tconstructor() {\n\t\tapp.initializeApp(firebaseConfig); //initialize configurations\n\t\tthis.auth = app.auth();\n\t\t//this.db = app.firestore();\n\t}\n\n\tasync login(email, password) {\n\t\tawait this.auth.signInWithEmailAndPassword(email, password)\n\t\t.then((user) => localStorage.setItem('name', user.user.displayName))\n\t\t.catch((err) => console.log(err));\n\t}\n\n\tasync logout() {\n\t\tawait this.auth.signOut()\n\t\t.then(() => localStorage.removeItem('name')) //on success remove name from local storage\n\t\t.catch((err) => console.log(err));\n\t}\n\n\tasync register(name, email, password) {\n\n\t\tawait this.auth.createUserWithEmailAndPassword(email, password)\n\t\t.then(async (user) => {\n\t\t\ttry {\n\n\t\t\t\tawait this.auth.currentUser.updateProfile({\n\t\t\t\t\tdisplayName: name\n\t\t\t\t}); //changes the display name\n\n\t\t\t} catch(err) {\n\t\t\t\tconsole.log(err)\n\t\t\t}\n\t\t\t\n\t\t\tlocalStorage.setItem('name', user.user.displayName);\n\t\t})\n\t\t\n\t}\n\n\tcreateTodo(title) {\n\t\tthis.auth.onAuthStateChanged(function(user) {\n\t\t  if (user) {\n\n\t\t    app.firestore().collection(\"Todolist\").add({\n\t\t\t    uid : user.uid,\n\t\t\t    title : title\n\t\t\t})\n\t\t\t.then(() => console.log(\"Document successfully added\"))\n\t\t\t.catch((err) => console.log(err));\n\n\t\t  } else {\n\t\t    console.log('not logged in');\n\t\t  }\n\n\t\t});\n\t}\n\n\tgetTodo(){\n\t\tapp.firestore().collection(\"Todolist\").get()\n\t\t.then((data) => {\n\t\t\tconsole.log(data.docs.map(doc => ({ ...doc.data(), id: doc.id })));\n\t\t\treturn data.docs.map(doc => ({ ...doc.data(), id: doc.id }));\n\t\t})\n\t\t.catch((err) => console.log(err));\n\t}\n}\n\nexport default new Firebase()"]},"metadata":{},"sourceType":"module"}